<!DOCTYPE html>
<html lang="en-US">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Directory of independent schools in the Portland metro area participating in the 2025 school fair">
  <title>Portland Independent Schools</title>
  <link href="bootstrap.min.css" rel="stylesheet">
  <link href="https://unpkg.com/maplibre-gl@3.0.1/dist/maplibre-gl.css" rel="stylesheet">
  <style>
    #map { height: 600px; margin: 2rem 0; }
    .leaflet-container { background: #f8f9fa; }
    .school-marker {
      width: 20px;
      height: 20px;
      background: #007bff;
      border-radius: 50%;
      cursor: pointer;
    }

    .school-logo {
      object-fit: contain;
      height: 200px;
      background-color: #f8f9fa;
    }
    p {
      font-size: 1.3em;
    }

  </style>
</head>
<body>
  <div class="container">
    <header class="container mt-4">
      <div class="row">
        <div class="col">
          <h1>Portland Independent Schools</h1>
          <p>
            PortlandIndependentSchools.org is an index of schools in the wider Portland Metro area extending as far north as Vancouver, WA and as far south as McMinville. The schools listed on this page are particpants in the annual Portland Independent &amp; Private School Fair.
          </p>
        </div>
      </div>
    </header>

    <main class="container mt-4">
      <div class="row g-4">
        <h3>Portland Independent &amp; Private School Fair 2025</h3>
        <img src="img/PipsFairLogoBanner.png.webp" alt="Portland Independent &amp; Private School Fair">
	<p>Meet representatives from Portland Independent Schools from 5:30–7:00 p.m. on Thursday, October 16, 2025 at OMSI for the annual Portland Independent &amp; Private School Fair. The schools below are participating.</p>
      </div>

      <div class="row g-4">
        <!--SCHOOLS_GO_HERE-->
      </div>
    </main>
    <div class="container mt-4">
      <h3>School Locations</h3>
      <div id="map"></div>
    </div>
    <footer class="container mt-4">
      <div class="row">
        <div class="col">
          <h3>The Data</h3>
          <p>
            The data for this website is maintained in <a href="https://docs.google.com/spreadsheets/d/1TihrGDKgheu-lJ5uKJWJtUyQTWsBfT2hv36xmsMIbNQ/edit?gid=1797278409#gid=1797278409">this Google Sheet</a>. If you have questions or corrections feel free to email <a href="mailto:brandon@portlandindependentschools.org">brandon@portlandindependentschools.org</a>.
          </p>
	  <p>
	    Do you represent a school? <a href="https://forms.gle/uUBHcQ7xdr2nrxra8">Submit updates using this form.</a>
	  </p>
        </div>
      </div>
    </footer>
  </div>


  <script src="https://unpkg.com/maplibre-gl@3.0.1/dist/maplibre-gl.js"></script>
  <script src="https://unpkg.com/pmtiles@2.4.0/dist/index.js"></script>

  <script>
    // Initialize Protomaps
    const protocol = new PMTiles.Protocol();
    maplibregl.addProtocol('pmtiles', protocol.tile);

    // Create map with Protomaps base layer
    const map = new maplibregl.Map({
      container: 'map',
      style: {
        version: 8,
        sources: {
          'protomaps': {
            type: 'vector',
            url: 'pmtiles://https://build.protomaps.com/20231028.pmtiles',
            attribution: '© <a href="https://openstreetmap.org">OpenStreetMap</a> contributors'
          }
        },
        layers: [{
          id: 'background',
          type: 'background',
          paint: {'background-color': '#f8f9fa'}
        }, {
          id: 'roads',
          source: 'protomaps',
          'source-layer': 'roads',
          type: 'line',
          paint: {
            'line-color': '#4a4a4a',
            'line-width': 1
          }
        }]
      },
      center: [-122.6765, 45.5231],
      zoom: 12
    });

    // Add markers and popups
    const schools = [];
    
    const bounds = new maplibregl.LngLatBounds();
    schools.forEach(school => {
      if(school.Coord) {
        const [lat, lng] = school.Coord.split(',').map(Number);
        const el = document.createElement('div');
        el.className = 'school-marker';
        
        new maplibregl.Marker(el)
          .setLngLat([lng, lat])
          .setPopup(new maplibregl.Popup().setHTML(
            `<strong><a href="${school.Website}">${school.Name}</a></strong><br>${school.Address}`
          ))
          .addTo(map);

        bounds.extend([lng, lat]);
      }
    });

    if(schools.length > 0) {
      map.fitBounds(bounds, {padding: 50});
    }
  </script>
  <script src="bootstrap.bundle.min.js"></script>
</body>
</html>
